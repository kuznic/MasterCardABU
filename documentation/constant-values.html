<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_45) on Mon Nov 02 14:40:51 WAT 2020 -->
<TITLE>
Constant Field Values
</TITLE>

<META NAME="date" CONTENT="2020-11-02">

<LINK REL ="stylesheet" TYPE="text/css" HREF="stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Constant Field Values";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="postilion/realtime/mastercardabu/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Use</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="overview-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="index.html?constant-values.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="constant-values.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<CENTER>
<H1>
Constant Field Values</H1>
</CENTER>
<HR SIZE="4" NOSHADE>
<B>Contents</B><UL>
<LI><A HREF="#postilion.realtime">postilion.realtime.*</A>
</UL>

<A NAME="postilion.realtime"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left"><FONT SIZE="+2">
postilion.realtime.*</FONT></TH>
</TR>
</TABLE>

<P>

<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left" COLSPAN="3">postilion.realtime.mastercardabu.<A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html" title="class in postilion.realtime.mastercardabu">AbuSqlScripts</A></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.CHECK_PC_CARD_ACCOUNTS_VIEW"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#CHECK_PC_CARD_ACCOUNTS_VIEW">CHECK_PC_CARD_ACCOUNTS_VIEW</A></CODE></TD>
<TD ALIGN="right"><CODE>"IF EXISTS (select * from sys.objects where object_id = OBJECT_ID(N\'[dbo].[pc_card_accounts]\')  AND type in (N\'V\'))\nBEGIN\nselect distinct cp.card_prefix from pc_card_accounts as ca\ninner join pc_card_programs as cp\non cp.issuer_nr = ca.issuer_nr\nwhere cp.card_prefix in (?)\nEND;"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.CHECK_PC_CARDS_VIEW"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#CHECK_PC_CARDS_VIEW">CHECK_PC_CARDS_VIEW</A></CODE></TD>
<TD ALIGN="right"><CODE>"IF EXISTS (select * from sys.objects where object_id = OBJECT_ID(N\'[dbo].[pc_cards]\')  AND type in (N\'V\'))\nBEGIN\nselect distinct cp.card_prefix from pc_cards as pc\ninner join pc_card_programs as cp\non pc.card_program = cp.card_program\nwhere card_prefix in (?)\nEND;"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.DROP_SP_INSERT_NEW_RECORDS_IN_ABU_TABLE"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#DROP_SP_INSERT_NEW_RECORDS_IN_ABU_TABLE">DROP_SP_INSERT_NEW_RECORDS_IN_ABU_TABLE</A></CODE></TD>
<TD ALIGN="right"><CODE>"IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id (N\'[dbo].[abu_insert_new_records]\') AND OBJECTPROPERTY(id, N\'IsProcedure\') = 1)\nBEGIN\nDROP PROCEDURE [dbo].[abu_insert_new_records]\nEND;\n"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.DROP_TRIGGERS_PART_1"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#DROP_TRIGGERS_PART_1">DROP_TRIGGERS_PART_1</A></CODE></TD>
<TD ALIGN="right"><CODE>"IF EXISTS (select * from sys.objects where object_id = OBJECT_ID(N\'[dbo].[tr_at_update_mastercard_abu_"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.DROP_TRIGGERS_PART_2"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#DROP_TRIGGERS_PART_2">DROP_TRIGGERS_PART_2</A></CODE></TD>
<TD ALIGN="right"><CODE>"\')  AND type in (N\'TR\'))\nBEGIN\nDROP TRIGGER "</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.DROP_TRIGGERS_PART_3"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#DROP_TRIGGERS_PART_3">DROP_TRIGGERS_PART_3</A></CODE></TD>
<TD ALIGN="right"><CODE>"\nEND\nELSE\nRETURN"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.FETCH_CLOSED_RECORD"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#FETCH_CLOSED_RECORD">FETCH_CLOSED_RECORD</A></CODE></TD>
<TD ALIGN="right"><CODE>"SELECT TOP 1 ISSUER_NR,PAN FROM PC_CARDS_ABU WHERE HOLD_RSP_CODE = 41 AND CLOSED = 1"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.FETCH_ISSUERS"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#FETCH_ISSUERS">FETCH_ISSUERS</A></CODE></TD>
<TD ALIGN="right"><CODE>"select issuer_nr from pc_card_programs where card_prefix in (?)"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.FETCH_RECORDS_FROM_PC_CARDS_ABU"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#FETCH_RECORDS_FROM_PC_CARDS_ABU">FETCH_RECORDS_FROM_PC_CARDS_ABU</A></CODE></TD>
<TD ALIGN="right"><CODE>"select top 2 [issuer_nr],[pan] from [dbo].[pc_cards_abu] (nolock) where account_chain is not null"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.INSERT_INTO_PC_CARD_ACCOUNTS_ISSUER_TABLE"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#INSERT_INTO_PC_CARD_ACCOUNTS_ISSUER_TABLE">INSERT_INTO_PC_CARD_ACCOUNTS_ISSUER_TABLE</A></CODE></TD>
<TD ALIGN="right"><CODE>"(issuer_nr,pan,seq_nr,account_id,account_type_nominated,account_type_qualifier,last_updated_date,last_updated_user,account_type,date_deleted)\nselect issuer_nr,?,seq_nr,account_id,account_type_nominated,account_type_qualifier,getdate(),last_updated_user,account_type,date_deleted\nfrom pc_card_accounts where pan = ?"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.INSERT_INTO_PC_CARDS_ABU_TABLE"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#INSERT_INTO_PC_CARDS_ABU_TABLE">INSERT_INTO_PC_CARDS_ABU_TABLE</A></CODE></TD>
<TD ALIGN="right"><CODE>"insert into pc_cards_abu (issuer_nr,pan,seq_nr,card_program,default_account_type,card_status,expiry_date,hold_rsp_code,pvki_or_pin_length,pvv_or_pin_offset,mailer_destination,discretionary_data,date_issued,date_activated,branch_code,last_updated_date,last_updated_user,customer_id,company_card,pvki2_or_pin2_length,upload_status,account_chain,account_hierarchy,closed)\nselect issuer_nr,pan,seq_nr,card_program,default_account_type,card_status,expiry_date,null,pvki_or_pin_length,pvv_or_pin_offset,mailer_destination,discretionary_data,date_issued,date_activated,branch_code,last_updated_date,last_updated_user,customer_id,company_card,pvki2_or_pin2_length,0 ,null,null,0 from pc_cards where pan = ?"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.INSERT_INTO_PC_CARDS_ISSUER_TABLE"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#INSERT_INTO_PC_CARDS_ISSUER_TABLE">INSERT_INTO_PC_CARDS_ISSUER_TABLE</A></CODE></TD>
<TD ALIGN="right"><CODE>"(issuer_nr,pan,seq_nr,card_program,default_account_type,card_status,expiry_date,hold_rsp_code,pvki_or_pin_length,pvv_or_pin_offset,mailer_destination,discretionary_data,date_issued,date_activated,branch_code,last_updated_date,last_updated_user,customer_id,company_card,pvki2_or_pin2_length)\nselect issuer_nr,?,seq_nr,card_program,default_account_type,card_status,expiry_date,null,pvki_or_pin_length,pvv_or_pin_offset,mailer_destination,discretionary_data,getdate(),GETDATE(),branch_code,GETDATE(),last_updated_user,customer_id,company_card,pvki2_or_pin2_length\nfrom pc_cards_abu where pan = ?"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.IX_PC_CARDS_ABU"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#IX_PC_CARDS_ABU">IX_PC_CARDS_ABU</A></CODE></TD>
<TD ALIGN="right"><CODE>"CREATE NONCLUSTERED INDEX [ix_pc_cards_abu]\nON [dbo].[pc_cards_abu] ([pan],[seq_nr])\nINCLUDE ([id])"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.IX_PC_CARDS_ABU_2"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#IX_PC_CARDS_ABU_2">IX_PC_CARDS_ABU_2</A></CODE></TD>
<TD ALIGN="right"><CODE>"CREATE NONCLUSTERED INDEX [ix_pc_cards_abu_2]\nON [dbo].[pc_cards_abu] ([card_status],[hold_rsp_code],[account_hierarchy],[expiry_date])\n"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.POPULATE_PC_CARDS_ABU_TABLE_PROD"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#POPULATE_PC_CARDS_ABU_TABLE_PROD">POPULATE_PC_CARDS_ABU_TABLE_PROD</A></CODE></TD>
<TD ALIGN="right"><CODE>"INSERT INTO [dbo].[pc_cards_abu]\n           ([issuer_nr]\n           ,[pan]\n           ,[seq_nr]\n           ,[card_program]\n           ,[default_account_type]\n           ,[card_status]\n           ,[card_custom_state]\n           ,[expiry_date]\n           ,[hold_rsp_code]\n           ,[track2_value]\n           ,[track2_value_offset]\n           ,[pvki_or_pin_length]\n           ,[pvv_or_pin_offset]\n           ,[pvv2_or_pin2_offset]\n           ,[validation_data_question]\n           ,[validation_data]\n           ,[cardholder_rsp_info]\n           ,[mailer_destination]\n           ,[discretionary_data]\n           ,[date_issued]\n           ,[date_activated]\n           ,[issuer_reference]\n           ,[branch_code]\n           ,[last_updated_date]\n           ,[last_updated_user]\n           ,[customer_id]\n           ,[batch_nr]\n           ,[company_card]\n           ,[date_deleted]\n           ,[pvki2_or_pin2_length]\n           ,[extended_fields]\n           ,[expiry_day]\n           ,[from_date]\n           ,[from_day]\n           ,[contactless_disc_data]\n           ,[dcvv_key_index]\n           ,[pan_encrypted]\n           ,[expiry_date_time]\n           ,[upload_status]\n           ,[account_chain]\n           ,[account_hierarchy]\n           ,[closed])\nSELECT pc.[issuer_nr]\n      ,pc.[pan]\n      ,pc.[seq_nr]\n      ,pc.[card_program]\n      ,pc.[default_account_type]\n      ,pc.[card_status]\n      ,pc.[card_custom_state]\n      ,pc.[expiry_date]\n      ,pc.[hold_rsp_code]\n      ,[track2_value]\n      ,[track2_value_offset]\n      ,[pvki_or_pin_length]\n      ,[pvv_or_pin_offset]\n      ,[pvv2_or_pin2_offset]\n      ,[validation_data_question]\n      ,[validation_data]\n      ,[cardholder_rsp_info]\n      ,[mailer_destination]\n      ,[discretionary_data]\n      ,[date_issued]\n      ,[date_activated]\n      ,[issuer_reference]\n      ,[branch_code]\n      ,pc.[last_updated_date]\n      ,pc.[last_updated_user]\n      ,[customer_id]\n      ,[batch_nr]\n      ,[company_card]\n      ,pc.[date_deleted]\n      ,[pvki2_or_pin2_length]\n      ,[extended_fields]\n      ,[expiry_day]\n      ,[from_date]\n      ,[from_day]\n      ,[contactless_disc_data]\n      ,[dcvv_key_index]\n      ,pc.[pan_encrypted]\n      ,[expiry_date_time]\n      ,0\n      ,null\n      ,null\n      ,0\n  FROM [dbo].[pc_cards] (nolock) as pc\ninner join pc_card_accounts as ca\non pc.pan = ca.pan\nwhere pc.date_deleted is null and pc.card_status = 1 and pc.hold_rsp_code is null and substring (pc.pan,1,6) in (?)\n"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.POPULATE_PC_CARDS_ABU_TABLE_TEST"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#POPULATE_PC_CARDS_ABU_TABLE_TEST">POPULATE_PC_CARDS_ABU_TABLE_TEST</A></CODE></TD>
<TD ALIGN="right"><CODE>"INSERT INTO [dbo].[pc_cards_abu]\n           ([issuer_nr]\n           ,[pan]\n           ,[seq_nr]\n           ,[card_program]\n           ,[default_account_type]\n           ,[card_status]\n           ,[card_custom_state]\n           ,[expiry_date]\n           ,[hold_rsp_code]\n           ,[track2_value]\n           ,[track2_value_offset]\n           ,[pvki_or_pin_length]\n           ,[pvv_or_pin_offset]\n           ,[pvv2_or_pin2_offset]\n           ,[validation_data_question]\n           ,[validation_data]\n           ,[cardholder_rsp_info]\n           ,[mailer_destination]\n           ,[discretionary_data]\n           ,[date_issued]\n           ,[date_activated]\n           ,[issuer_reference]\n           ,[branch_code]\n           ,[last_updated_date]\n           ,[last_updated_user]\n           ,[customer_id]\n           ,[batch_nr]\n           ,[company_card]\n           ,[date_deleted]\n           ,[pvki2_or_pin2_length]\n           ,[extended_fields]\n           ,[expiry_day]\n           ,[from_date]\n           ,[from_day]\n           ,[contactless_disc_data]\n           ,[dcvv_key_index]\n           ,[pan_encrypted]\n           ,[expiry_date_time]\n           ,[upload_status]\n           ,[account_chain]\n           ,[account_hierarchy]\n           ,[closed])\nSELECT top 2 pc.[issuer_nr]\n      ,pc.[pan]\n      ,pc.[seq_nr]\n      ,pc.[card_program]\n      ,pc.[default_account_type]\n      ,pc.[card_status]\n      ,[card_custom_state]\n      ,[expiry_date]\n      ,[hold_rsp_code]\n      ,[track2_value]\n      ,[track2_value_offset]\n      ,[pvki_or_pin_length]\n      ,[pvv_or_pin_offset]\n      ,[pvv2_or_pin2_offset]\n      ,[validation_data_question]\n      ,[validation_data]\n      ,[cardholder_rsp_info]\n      ,[mailer_destination]\n      ,[discretionary_data]\n      ,[date_issued]\n      ,[date_activated]\n      ,[issuer_reference]\n      ,[branch_code]\n      ,pc.[last_updated_date]\n      ,pc.[last_updated_user]\n      ,[customer_id]\n      ,[batch_nr]\n      ,[company_card]\n      ,pc.[date_deleted]\n      ,[pvki2_or_pin2_length]\n      ,[extended_fields]\n      ,[expiry_day]\n      ,[from_date]\n      ,[from_day]\n      ,[contactless_disc_data]\n      ,[dcvv_key_index]\n      ,pc.[pan_encrypted]\n      ,[expiry_date_time]\n       ,0\n       ,null\n       ,null\n       ,0\n  FROM [dbo].[pc_cards] (nolock) as pc\ninner join pc_card_accounts as ca\non pc.pan = ca.pan\nwhere pc.date_deleted is null and pc.card_status = 1 and pc.hold_rsp_code is null and substring (pc.pan,1,6) in (?)\n"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.POPULATE_PC_CARDS_ABU_TABLE_TEST_FOR_CODE_N"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#POPULATE_PC_CARDS_ABU_TABLE_TEST_FOR_CODE_N">POPULATE_PC_CARDS_ABU_TABLE_TEST_FOR_CODE_N</A></CODE></TD>
<TD ALIGN="right"><CODE>"with pan_cte as \n(select * from pc_cards (nolock) where \npan not in (select pan from pc_cards_abu)\n)\ninsert into pc_cards_abu\nSELECT top 2 [issuer_nr] \n                  ,[pan] \n                  ,[seq_nr] \n                  ,[card_program] \n                  ,[default_account_type] \n                  ,[card_status] \n                  ,[card_custom_state] \n                  ,[expiry_date] \n                  ,[hold_rsp_code] \n                  ,[track2_value] \n                  ,[track2_value_offset] \n                  ,[pvki_or_pin_length] \n                  ,[pvv_or_pin_offset] \n                  ,[pvv2_or_pin2_offset] \n                  ,[validation_data_question] \n                  ,[validation_data] \n                  ,[cardholder_rsp_info] \n                  ,[mailer_destination] \n                  ,[discretionary_data] \n                  ,[date_issued] \n                  ,[date_activated] \n                  ,[issuer_reference] \n                  ,[branch_code] \n                  ,[last_updated_date] \n                  ,[last_updated_user] \n                  ,[customer_id] \n                  ,[batch_nr] \n                  ,[company_card] \n                  ,[date_deleted] \n                  ,[pvki2_or_pin2_length] \n                  ,[extended_fields] \n                  ,[expiry_day] \n                  ,[from_date] \n                  ,[from_day] \n                  ,[contactless_disc_data] \n                  ,[dcvv_key_index] \n                  ,[pan_encrypted] \n                  ,[expiry_date_time] \n                  ,0 \n                  ,null \n                  ,null \n                  ,0 \n                  from pan_cte where substring(pan,1,6) in (?)"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.SP_GET_ALL_ACTIVE_CARDS"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#SP_GET_ALL_ACTIVE_CARDS">SP_GET_ALL_ACTIVE_CARDS</A></CODE></TD>
<TD ALIGN="right"><CODE>"CREATE PROCEDURE get_all_active_cards   @bins VARCHAR(200), @page_num INT,\n  @page_size INT AS\nSELECT\n  COUNT(*) AS count\nFROM\n  pc_cards_abu INNER JOIN pc_card_accounts\n      ON\n        pc_cards_abu.pan = pc_card_accounts.pan\n      WHERE\n        pc_cards_abu.card_status = \'1\'\n        AND pc_cards_abu.hold_rsp_code IS NULL\n        AND pc_cards_abu.account_hierarchy IS NULL\n        AND pc_cards_abu.expiry_date &gt; (SELECT \u00c2\u00a0convert(char(4),\u00c2\u00a0getdate(),\u00c2\u00a012))\n        AND left( pc_cards_abu.pan,6) in (\n            SELECT LTRIM(RTRIM(Split.a.value(\'.\', \'VARCHAR(100)\'))) \'Value\'\n        \tFROM\n        \t(\n        \t\t SELECT CAST (\'&lt;M&gt;\' + REPLACE(@bins, \',\', \'&lt;/M&gt;&lt;M&gt;\') + \'&lt;/M&gt;\' AS XML) AS Data\n        \t) AS A\n        \tCROSS APPLY Data.nodes (\'/M\') AS Split(a)\n        )\nSELECT\n      pc_cards_abu.id,\n      pc_cards_abu.pan,\n      pc_cards_abu.expiry_date,\n      pc_cards_abu.card_program\nFROM\n  pc_cards_abu INNER JOIN pc_card_accounts\n      ON\n        pc_cards_abu.pan = pc_card_accounts.pan\n      WHERE\n        pc_cards_abu.card_status = \'1\'\n        AND pc_cards_abu.hold_rsp_code IS NULL\n        AND pc_cards_abu.account_hierarchy IS NULL\n        AND pc_cards_abu.expiry_date &gt; (SELECT \u00c2\u00a0convert(char(4),\u00c2\u00a0getdate(),\u00c2\u00a012))\n        AND left( pc_cards_abu.pan,6) in (\n            SELECT LTRIM(RTRIM(Split.a.value(\'.\', \'VARCHAR(100)\'))) \'Value\'\n            FROM\n            (\n                 SELECT CAST (\'&lt;M&gt;\' + REPLACE(@bins, \',\', \'&lt;/M&gt;&lt;M&gt;\') + \'&lt;/M&gt;\' AS XML) AS Data\n            ) AS A\n            CROSS APPLY Data.nodes (\'/M\') AS Split(a)\n        )\nORDER BY\n  id OFFSET @page_size * (@page_num - 1) ROWS FETCH NEXT @page_size ROWS ONLY\n"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.SP_GET_ALL_CHAINED_CARDS"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#SP_GET_ALL_CHAINED_CARDS">SP_GET_ALL_CHAINED_CARDS</A></CODE></TD>
<TD ALIGN="right"><CODE>"CREATE PROCEDURE get_all_chained_cards @bins VARCHAR(200), @page_num INT,\n@page_size INT AS\nSELECT\nCOUNT(*) AS count\nFROM\n  pc_cards_abu INNER JOIN pc_card_accounts\nON\n  pc_cards_abu.pan = pc_card_accounts.pan\nWHERE\n(\n  pc_cards_abu.card_status = \'1\'\n  AND pc_cards_abu.hold_rsp_code IS NULL\n  AND pc_cards_abu.account_hierarchy IS NULL\n  AND pc_cards_abu.expiry_date &gt; (SELECT  convert(char(4), getdate(), 12))\n  AND LEFT( pc_cards_abu.pan,6) in (\n      SELECT LTRIM(RTRIM(Split.a.value(\'.\', \'VARCHAR(100)\'))) \'Value\'\n      FROM\n      (\n              SELECT CAST (\'&lt;M&gt;\' + REPLACE(@bins, \',\', \'&lt;/M&gt;&lt;M&gt;\') + \'&lt;/M&gt;\' AS XML) AS Data\n      ) AS A\n      CROSS APPLY Data.nodes (\'/M\') AS Split(a))\n)\n;WITH old_card_ids(date_activated, account_id) AS\n(\n  SELECT\n      MAX(pc_cards_abu.date_activated),\n      pc_card_accounts.account_id\n  FROM\n      pc_cards_abu INNER JOIN pc_card_accounts\n  ON\n      pc_cards_abu.pan = pc_card_accounts.pan\n  WHERE\n      (\n          (\n              pc_cards_abu.card_status != \'1\'\n              OR pc_cards_abu.hold_rsp_code IN (\'41\',\'43\',\'45\')\n              OR pc_cards_abu.expiry_date &lt;= (SELECT  convert(char(4), getdate(), 12))\n          )\n          AND pc_cards_abu.account_hierarchy IS NOT NULL\n      )\n  GROUP BY pc_card_accounts.account_id\n)\nSELECT\n  *\nFROM\n  (\n      SELECT\n          id,\n          pc_cards_abu.pan,\n          pc_cards_abu.expiry_date,\n          pc_cards_abu.card_program,\n          pc_card_accounts.account_id\n      FROM\n          pc_cards_abu INNER JOIN pc_card_accounts\n      ON\n          pc_cards_abu.pan = pc_card_accounts.pan\n      WHERE\n      (\n          pc_cards_abu.card_status = \'1\'\n          AND pc_cards_abu.hold_rsp_code IS NULL\n          AND pc_cards_abu.account_hierarchy IS NULL\n          AND pc_cards_abu.expiry_date &gt; (SELECT  convert(char(4), getdate(), 12))\n          AND LEFT( pc_cards_abu.pan,6) in (\n              SELECT LTRIM(RTRIM(Split.a.value(\'.\', \'VARCHAR(100)\'))) \'Value\'\n              FROM\n              (\n                      SELECT CAST (\'&lt;M&gt;\' + REPLACE(@bins, \',\', \'&lt;/M&gt;&lt;M&gt;\') + \'&lt;/M&gt;\' AS XML) AS Data\n              ) AS A\n              CROSS APPLY Data.nodes (\'/M\') AS Split(a))\n      )\n  )\n  new_cards\nLEFT JOIN\n  (\n      SELECT\n          pc_cards_abu.pan old_pan,\n          pc_cards_abu.expiry_date old_expiry_date,\n          pc_cards_abu.card_program old_card_program,\n          pc_cards_abu.account_hierarchy old_account_hierarchy,\n          pc_card_accounts.account_id\n      FROM\n          pc_cards_abu\n      JOIN pc_card_accounts\n      ON\n          pc_cards_abu.pan = pc_card_accounts.pan\n      JOIN old_card_ids\n      ON\n          pc_card_accounts.account_id = old_card_ids.account_id\n          AND pc_cards_abu.date_activated = old_card_ids.date_activated\n  )\n  old_cards\nON new_cards.account_id = old_cards.account_id\nORDER BY\n    id OFFSET @page_size * (@page_num - 1) ROWS FETCH NEXT @page_size ROWS ONLY"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.SP_GET_CLOSED_CARDS"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#SP_GET_CLOSED_CARDS">SP_GET_CLOSED_CARDS</A></CODE></TD>
<TD ALIGN="right"><CODE>"CREATE PROCEDURE get_closed_cards   @bins VARCHAR(200), @page_num INT,\n  @page_size INT AS\nSELECT\n  COUNT(*) AS count\nFROM\n  pc_cards_abu INNER JOIN pc_card_accounts\n      ON\n        pc_cards_abu.pan = pc_card_accounts.pan\n      WHERE\n         (pc_cards_abu.card_status != \'1\'\n            OR pc_cards_abu.hold_rsp_code IN (\'41\',\'43\',\'45\')\n            OR pc_cards_abu.expiry_date &lt;= (SELECT \u00c2\u00a0convert(char(4),\u00c2\u00a0getdate(),\u00c2\u00a012)))\n            AND pc_cards_abu.closed = 0\n            AND pc_cards_abu.account_hierarchy IS NOT NULL\n            AND left( pc_cards_abu.pan,6) in (\n                     SELECT LTRIM(RTRIM(Split.a.value(\'.\', \'VARCHAR(100)\'))) \'Value\'\n                        FROM\n                        (\n                             SELECT CAST (\'&lt;M&gt;\' + REPLACE(@bins, \',\', \'&lt;/M&gt;&lt;M&gt;\') + \'&lt;/M&gt;\' AS XML) AS Data\n                        ) AS A\n                        CROSS APPLY Data.nodes (\'/M\') AS Split(a)\n                    )\nSELECT\n        pc_cards_abu.id,\n        pc_cards_abu.pan,\n        pc_cards_abu.expiry_date,\n        pc_cards_abu.account_hierarchy\nFROM\n  pc_cards_abu INNER JOIN pc_card_accounts\n      ON\n        pc_cards_abu.pan = pc_card_accounts.pan\n      WHERE\n        (pc_cards_abu.card_status != \'1\'\n           OR pc_cards_abu.hold_rsp_code IN (\'41\',\'43\',\'45\')\n           OR pc_cards_abu.expiry_date &lt;= (SELECT \u00c2\u00a0convert(char(4),\u00c2\u00a0getdate(),\u00c2\u00a012)))\n           AND pc_cards_abu.closed = 0\n           AND pc_cards_abu.account_hierarchy IS NOT NULL\n           AND left( pc_cards_abu.pan,6) in (\n                    SELECT LTRIM(RTRIM(Split.a.value(\'.\', \'VARCHAR(100)\'))) \'Value\'\n                   \tFROM\n                   \t(\n                   \t\t SELECT CAST (\'&lt;M&gt;\' + REPLACE(@bins, \',\', \'&lt;/M&gt;&lt;M&gt;\') + \'&lt;/M&gt;\' AS XML) AS Data\n                   \t) AS A\n                   \tCROSS APPLY Data.nodes (\'/M\') AS Split(a)\n                   )\nORDER BY\n  id OFFSET @page_size * (@page_num - 1) ROWS FETCH NEXT @page_size ROWS ONLY"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.SP_INSERT_NEW_RECORDS_IN_ABU_TABLE_PART_1"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#SP_INSERT_NEW_RECORDS_IN_ABU_TABLE_PART_1">SP_INSERT_NEW_RECORDS_IN_ABU_TABLE_PART_1</A></CODE></TD>
<TD ALIGN="right"><CODE>"create procedure abu_insert_new_records\nas \ndeclare @abu_last_updated_date  varchar(15)\nset @abu_last_updated_date =(select top 1 CONVERT(VARcHAR(10), last_updated_date, 111) from pc_cards_abu nolock\norder by last_updated_date  desc\n)\nINSERT INTO [dbo].[pc_cards_abu]\n           ([issuer_nr]\n           ,[pan]\n           ,[seq_nr]\n           ,[card_program]\n           ,[default_account_type]\n           ,[card_status]\n           ,[card_custom_state]\n           ,[expiry_date]\n           ,[hold_rsp_code]\n           ,[track2_value]\n           ,[track2_value_offset]\n           ,[pvki_or_pin_length]\n           ,[pvv_or_pin_offset]\n           ,[pvv2_or_pin2_offset]\n           ,[validation_data_question]\n           ,[validation_data]\n           ,[cardholder_rsp_info]\n           ,[mailer_destination]\n           ,[discretionary_data]\n           ,[date_issued]\n           ,[date_activated]\n           ,[issuer_reference]\n           ,[branch_code]\n           ,[last_updated_date]\n           ,[last_updated_user]\n           ,[customer_id]\n           ,[batch_nr]\n           ,[company_card]\n           ,[date_deleted]\n           ,[pvki2_or_pin2_length]\n           ,[extended_fields]\n           ,[expiry_day]\n           ,[from_date]\n           ,[from_day]\n           ,[contactless_disc_data]\n           ,[dcvv_key_index]\n           ,[pan_encrypted]\n           ,[expiry_date_time]\n           ,[upload_status]\n           ,[account_chain]\n           ,[account_hierarchy]\n           ,[closed])\nSELECT [issuer_nr]\n      ,[pan]\n      ,[seq_nr]\n      ,[card_program]\n      ,[default_account_type]\n      ,[card_status]\n      ,[card_custom_state]\n      ,[expiry_date]\n      ,[hold_rsp_code]\n      ,[track2_value]\n      ,[track2_value_offset]\n      ,[pvki_or_pin_length]\n      ,[pvv_or_pin_offset]\n      ,[pvv2_or_pin2_offset]\n      ,[validation_data_question]\n      ,[validation_data]\n      ,[cardholder_rsp_info]\n      ,[mailer_destination]\n      ,[discretionary_data]\n      ,[date_issued]\n      ,[date_activated]\n      ,[issuer_reference]\n      ,[branch_code]\n      ,[last_updated_date]\n      ,[last_updated_user]\n      ,[customer_id]\n      ,[batch_nr]\n      ,[company_card]\n      ,[date_deleted]\n      ,[pvki2_or_pin2_length]\n      ,[extended_fields]\n      ,[expiry_day]\n      ,[from_date]\n      ,[from_day]\n      ,[contactless_disc_data]\n      ,[dcvv_key_index]\n      ,[pan_encrypted]\n      ,[expiry_date_time]\n      ,0\n      ,null\n      ,null\n      ,0\n  FROM [dbo].[pc_cards]\nwhere date_deleted is null  and substring(pan,1,6) in ("</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.SP_INSERT_NEW_RECORDS_IN_ABU_TABLE_PART_2"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#SP_INSERT_NEW_RECORDS_IN_ABU_TABLE_PART_2">SP_INSERT_NEW_RECORDS_IN_ABU_TABLE_PART_2</A></CODE></TD>
<TD ALIGN="right"><CODE>") and last_updated_date &gt; @abu_last_updated_date"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.SP_UPDATE_CLOSED_CARD_STATUS"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#SP_UPDATE_CLOSED_CARD_STATUS">SP_UPDATE_CLOSED_CARD_STATUS</A></CODE></TD>
<TD ALIGN="right"><CODE>"CREATE PROCEDURE update_closed_card_status @updates TVPClosedCardUpdatesTableType READONLY AS\nBEGIN\nUPDATE pc_cards_abu\nSET    closed = u.closed\nFROM   @updates u\nWHERE  u.id = pc_cards_abu.id\nEND;\n"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.SP_UPDATE_STATUS_CHAIN_AND_HIERARCHY"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#SP_UPDATE_STATUS_CHAIN_AND_HIERARCHY">SP_UPDATE_STATUS_CHAIN_AND_HIERARCHY</A></CODE></TD>
<TD ALIGN="right"><CODE>"CREATE PROCEDURE update_status_chain_and_hierarchy @updates TVPCardUpdatesTableType READONLY AS\n BEGIN\nUPDATE pc_cards_abu\nSET    account_chain = u.account_chain,\n       account_hierarchy = u.account_hierarchy,\n       upload_status = u.upload_status\nFROM   @updates u\nWHERE  u.id = pc_cards_abu.id\nEND;\n"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.TBL_PC_CARDS_ABU"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#TBL_PC_CARDS_ABU">TBL_PC_CARDS_ABU</A></CODE></TD>
<TD ALIGN="right"><CODE>"-- CREATE TABLE pc_cards_abu\nIF EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N\'[dbo].[pc_cards_abu]\') AND type in (N\'U\'))\nBEGIN\nDROP TABLE [dbo].[pc_cards_abu]\nEND\n  BEGIN\n   CREATE TABLE pc_cards_abu\n   \t(\n   \t[id] BIGINT IDENTITY(1,1),\n   \t[issuer_nr]\tint NOT NULL,\n   \t[pan]\tvarchar(66) NOT NULL,\n   \t[seq_nr]\tchar(3) NOT NULL,\n   \t[card_program]\tvarchar(20) NOT NULL,\n    [default_account_type]\tchar(2) NOT NULL,\n   \t[card_status]\tint NOT NULL,\n   \t[card_custom_state]\tint NULL,\n   \t[expiry_date]\tvarchar(4) NOT NULL,\n   \t[hold_rsp_code]\tchar(2) NULL,\n   \t[track2_value]\tvarchar(20) NULL,\n   \t[track2_value_offset]\tint NULL,\n   \t[pvki_or_pin_length]\tint NULL,\n   \t[pvv_or_pin_offset] varchar(12) NULL,\n   \t[pvv2_or_pin2_offset] varchar(12) NULL,\n   \t[validation_data_question] varchar(50) NULL,\n   \t[validation_data] varchar(50) NULL,\n   \t[cardholder_rsp_info] varchar(50) NULL,\n   \t[mailer_destination] int NOT NULL,\n   \t[discretionary_data] varchar(19) NULL,\n   \t[date_issued] datetime NULL,\n   \t[date_activated] datetime NULL,\n   \t[issuer_reference] varchar(20) NULL,\n   \t[branch_code] varchar(10) NULL,\n   \t[last_updated_date] datetime NOT NULL,\n   \t[last_updated_user] varchar(20) NOT NULL,\n   \t[customer_id] varchar(25) NULL,\n   \t[batch_nr] int NULL,\n   \t[company_card] int NULL,\n   \t[date_deleted] datetime NULL,\n   \t[pvki2_or_pin2_length] int NULL,\n   \t[extended_fields] varchar(max) NULL,\n   \t[expiry_day] char(2) NULL,\n   \t[from_date] char(4) NULL,\n   \t[from_day] char(2) NULL,\n   \t[contactless_disc_data] varchar(19) NULL,\n   \t[dcvv_key_index] int NULL,\n   \t[pan_encrypted] varchar(70) NULL,\n   \t[expiry_date_time] datetime NULL,\n   \t[upload_status] bit NOT NULL DEFAULT 0,\n   \t[account_chain] varchar(66) NULL,\n   \t[account_hierarchy] int NULL,\n   \t[closed] bit NOT NULL DEFAULT 0,\n   \tCONSTRAINT pk_pc_cards_abu_col_id PRIMARY KEY (id)\n   \t)\n   ALTER TABLE [dbo].[pc_cards_abu] ADD  DEFAULT (\'NIL\') FOR [seq_nr]\n\n   ALTER TABLE [dbo].[pc_cards_abu] ADD  DEFAULT (\'NIL\') FOR [expiry_date]\n  END;\n IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id (N\'[dbo].[get_all_active_cards]\') AND OBJECTPROPERTY(id, N\'IsProcedure\') = 1)\nBEGIN\nDROP PROCEDURE [dbo].[get_all_active_cards]\nEND\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id (N\'[dbo].[get_closed_cards]\') AND OBJECTPROPERTY(id, N\'IsProcedure\') = 1)\nBEGIN\nDROP PROCEDURE [dbo].[get_closed_cards]\nEND;\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id (N\'[dbo].[get_all_chained_cards]\') AND OBJECTPROPERTY(id, N\'IsProcedure\') = 1)\nBEGIN\nDROP PROCEDURE [dbo].[get_all_chained_cards]\nEND;\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id (N\'[dbo].[update_status_chain_and_hierarchy]\') AND OBJECTPROPERTY(id, N\'IsProcedure\') = 1)\nBEGIN\nDROP PROCEDURE [dbo].[update_status_chain_and_hierarchy]\nEND;\nIF type_id(\'TVPCardUpdatesTableType\') IS NOT NULL\nBEGIN\nDROP TYPE TVPCardUpdatesTableType END;\nCREATE TYPE TVPCardUpdatesTableType AS TABLE (\n    id BIGINT,\n    account_chain VARCHAR(66),\n    account_hierarchy INT,\n    upload_status VARCHAR(2))\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id (N\'[dbo].[update_closed_card_status]\') AND OBJECTPROPERTY(id, N\'IsProcedure\') = 1)\nBEGIN\nDROP PROCEDURE [dbo].[update_closed_card_status]\nEND;\nIF type_id(\'TVPClosedCardUpdatesTableType\') IS NOT NULL\nDROP TYPE TVPClosedCardUpdatesTableType\nCREATE TYPE TVPClosedCardUpdatesTableType AS TABLE (\n    id BIGINT,\n    closed BIT\n  )"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.TR_PC_CARDS_PART_1"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#TR_PC_CARDS_PART_1">TR_PC_CARDS_PART_1</A></CODE></TD>
<TD ALIGN="right"><CODE>"CREATE TRIGGER [dbo].[tr_at_update_mastercard_abu_"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.TR_PC_CARDS_PART_2"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#TR_PC_CARDS_PART_2">TR_PC_CARDS_PART_2</A></CODE></TD>
<TD ALIGN="right"><CODE>"ON [dbo].[pc_cards_"</CODE></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<A NAME="postilion.realtime.mastercardabu.AbuSqlScripts.TR_PC_CARDS_PART_3"><!-- --></A><TD ALIGN="right"><FONT SIZE="-1">
<CODE>public&nbsp;static&nbsp;final&nbsp;java.lang.String</CODE></FONT></TD>
<TD ALIGN="left"><CODE><A HREF="postilion/realtime/mastercardabu/AbuSqlScripts.html#TR_PC_CARDS_PART_3">TR_PC_CARDS_PART_3</A></CODE></TD>
<TD ALIGN="right"><CODE>" after update AS\nBEGIN \nset nocount on;\nUPDATE pc_cards_abu SET card_status = i.card_status\nfrom pc_cards_abu as pcb\ninner join inserted i  on pcb.pan= i.pan and pcb.seq_nr = i.seq_nr;\n\nupdate pc_cards_abu set hold_rsp_code = i.hold_rsp_code\nfrom pc_cards_abu as pcb\ninner join inserted i  on pcb.pan= i.pan and pcb.seq_nr = i.seq_nr;\nend"</CODE></TD>
</TR>
</FONT></TD>
</TR>
</TABLE>

<P>

<P>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="postilion/realtime/mastercardabu/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Use</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="overview-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="index.html?constant-values.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="constant-values.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
